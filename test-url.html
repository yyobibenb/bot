<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>–¢–µ—Å—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ URL</title>
  <style>
    body {
      font-family: monospace;
      padding: 20px;
      background: #1a1a1a;
      color: #00ff00;
    }
    .section {
      background: #2a2a2a;
      padding: 15px;
      margin: 10px 0;
      border-radius: 5px;
      border: 1px solid #00ff00;
    }
    h2 {
      color: #ffaa00;
    }
    .key {
      color: #ff00ff;
    }
    .value {
      color: #00ffff;
    }
    button {
      background: #00ff00;
      color: #000;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: bold;
      border-radius: 3px;
    }
    button:hover {
      background: #00cc00;
    }
    pre {
      background: #000;
      padding: 10px;
      border-radius: 3px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <h1>üîç –¢–µ—Å—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ URL</h1>

  <div class="section">
    <h2>üìã –¢–µ–∫—É—â–∏–π URL</h2>
    <pre id="current-url"></pre>
  </div>

  <div class="section">
    <h2>üîë URL –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
    <div id="url-params"></div>
  </div>

  <div class="section">
    <h2>üë§ –û–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–∞–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)</h2>
    <pre id="user-object"></pre>
  </div>

  <div class="section">
    <h2>üß™ –¢–µ—Å—Ç–æ–≤—ã–µ URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>
    <p>–ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:</p>

    <button onclick="testUrl1()">–¢–µ—Å—Ç 1: –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</button>
    <button onclick="testUrl2()">–¢–µ—Å—Ç 2: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</button>
    <button onclick="testUrl3()">–¢–µ—Å—Ç 3: –° –∞–≤–∞—Ç–∞—Ä–æ–º</button>
    <button onclick="testClear()">–û—á–∏—Å—Ç–∏—Ç—å URL</button>
  </div>

  <script>
    // –ü–∞—Ä—Å–∏–Ω–≥ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–∫ –≤ app.js)
    function getUrlParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        user_id: params.get('user_id'),
        first_name: params.get('first_name'),
        last_name: params.get('last_name'),
        username: params.get('username'),
        photo_url: params.get('photo_url'),
        is_premium: params.get('is_premium') === 'true'
      };
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–∞–∫ –≤ app.js)
    function createUserObject(urlParams) {
      if (!urlParams.user_id) return null;

      return {
        id: parseInt(urlParams.user_id),
        first_name: urlParams.first_name || 'User',
        last_name: urlParams.last_name || '',
        username: urlParams.username || '',
        photo_url: urlParams.photo_url || null,
        is_premium: urlParams.is_premium || false
      };
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
    function updateDisplay() {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π URL
      document.getElementById('current-url').textContent = window.location.href;

      // –ü–∞—Ä—Å–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
      const urlParams = getUrlParams();

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
      let paramsHtml = '';
      for (const [key, value] of Object.entries(urlParams)) {
        const icon = value ? '‚úÖ' : '‚ùå';
        paramsHtml += `<div>${icon} <span class="key">${key}:</span> <span class="value">${value || 'null'}</span></div>`;
      }
      document.getElementById('url-params').innerHTML = paramsHtml;

      // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      const userObject = createUserObject(urlParams);

      if (userObject) {
        document.getElementById('user-object').textContent = JSON.stringify(userObject, null, 2);
      } else {
        document.getElementById('user-object').textContent = '‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö - user_id –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω –≤ URL';
      }
    }

    // –¢–µ—Å—Ç–æ–≤—ã–µ URL
    function testUrl1() {
      window.location.search = '?user_id=123456789&first_name=John&last_name=Doe&username=johndoe&is_premium=true';
    }

    function testUrl2() {
      window.location.search = '?user_id=987654321&first_name=Jane';
    }

    function testUrl3() {
      const photoUrl = 'https://api.telegram.org/file/bot123:ABC/photos/file_1.jpg';
      window.location.search = `?user_id=555555555&first_name=Bob&photo_url=${encodeURIComponent(photoUrl)}`;
    }

    function testClear() {
      window.location.search = '';
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    updateDisplay();

    // –õ–æ–≥–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å
    console.log('üîç URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:', getUrlParams());
    console.log('üë§ –û–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', createUserObject(getUrlParams()));
  </script>
</body>
</html>
