# ğŸ”— ĞšĞ°Ğº Ğ² URL Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹

## ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²

### 1ï¸âƒ£ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ /start

```
ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ â†’ /start â†’ Telegram â†’ Ğ‘Ğ¾Ñ‚ (handleStart)
```

---

### 2ï¸âƒ£ Ğ‘Ğ¾Ñ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· msg.from

**Ğ¤Ğ°Ğ¹Ğ»:** `src/bot/telegramBot.ts`
**Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ 148-154:**

```typescript
const webAppUrlWithParams = this.buildWebAppUrlWithParams({
  telegram_id: telegramId,                    // â† msg.from.id
  first_name: msg.from?.first_name,           // â† msg.from.first_name
  last_name: msg.from?.last_name,             // â† msg.from.last_name
  username: msg.from?.username,               // â† msg.from.username
  is_premium: (msg.from as any)?.is_premium,  // â† msg.from.is_premium
}, photoUrl);  // â† Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½ Ñ‡ĞµÑ€ĞµĞ· getUserProfilePhotos()
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
- Ğ‘ĞµÑ€ĞµÑ‚ `telegram_id` Ğ¸Ğ· `msg.from.id`
- Ğ‘ĞµÑ€ĞµÑ‚ `first_name` Ğ¸Ğ· `msg.from.first_name`
- Ğ‘ĞµÑ€ĞµÑ‚ `last_name` Ğ¸Ğ· `msg.from.last_name`
- Ğ‘ĞµÑ€ĞµÑ‚ `username` Ğ¸Ğ· `msg.from.username`
- Ğ‘ĞµÑ€ĞµÑ‚ `is_premium` Ğ¸Ğ· `msg.from.is_premium`
- ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ `photoUrl` ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ±Ñ‹Ğ» Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½ Ñ€Ğ°Ğ½ĞµĞµ

---

### 3ï¸âƒ£ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ buildWebAppUrlWithParams Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ URL

**Ğ¤Ğ°Ğ¹Ğ»:** `src/bot/telegramBot.ts`
**Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ 34-58:**

```typescript
private buildWebAppUrlWithParams(user: any, photoUrl: string | null): string {
  // Ğ¨ĞĞ“ 1: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ URL Ğ¸Ğ· .env
  const baseUrl = this.getWebAppUrl();  // "https://your-app.com"

  // Ğ¨ĞĞ“ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
  const params = new URLSearchParams();

  // Ğ¨ĞĞ“ 3: Ğ”ĞĞ‘ĞĞ’Ğ˜Ğ¢Ğ¬ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¾Ğ´Ğ¸Ğ½ Ğ·Ğ° Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼
  params.append('user_id', user.telegram_id.toString());  // user_id=123456789
  params.append('first_name', user.first_name || '');     // &first_name=John

  if (user.last_name) params.append('last_name', user.last_name);      // &last_name=Doe
  if (user.username) params.append('username', user.username);         // &username=johndoe
  if (photoUrl) params.append('photo_url', photoUrl);                  // &photo_url=https://...
  if (user.is_premium) params.append('is_premium', 'true');            // &is_premium=true

  // Ğ¨ĞĞ“ 4: Ğ¡ĞšĞ›Ğ•Ğ˜Ğ¢Ğ¬ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ URL + "?" + Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
  const finalUrl = `${baseUrl}?${params.toString()}`;
  // Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: "https://your-app.com?user_id=123&first_name=John&..."

  return finalUrl;
}
```

#### ĞšĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ URLSearchParams:

```javascript
const params = new URLSearchParams();

// Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:
params.append('user_id', '123456789');     // ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€
params.append('first_name', 'John');       // Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€
params.append('last_name', 'Doe');         // Ğ¢Ñ€ĞµÑ‚Ğ¸Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€

// ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµĞ¼ Ğ² ÑÑ‚Ñ€Ğ¾ĞºÑƒ:
params.toString()
// Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: "user_id=123456789&first_name=John&last_name=Doe"

// Ğ¡ĞºĞ»ĞµĞ¸Ğ²Ğ°ĞµĞ¼ Ñ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¼ URL:
const finalUrl = `https://your-app.com?${params.toString()}`;
// Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: "https://your-app.com?user_id=123456789&first_name=John&last_name=Doe"
```

---

### 4ï¸âƒ£ URL Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ÑÑ Ğ² ĞºĞ½Ğ¾Ğ¿ĞºÑƒ

**Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ 156-164:**

```typescript
await this.bot.sendMessage(chatId, WELCOME_MESSAGE, {
  reply_markup: {
    keyboard: [
      [{
        text: "ğŸš€ ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Mini App",
        web_app: {
          url: webAppUrlWithParams  // â† URL Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸!
          // "https://your-app.com?user_id=123&first_name=John&..."
        }
      }]
    ]
  }
});
```

**Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚:**
- Telegram Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ñ `web_app.url`
- Ğ’ `url` Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ÑÑ **Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ URL Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸**
- ĞšĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğ°Ğ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ, Telegram Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ğ¾Ñ‚ URL

---

### 5ï¸âƒ£ Telegram Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ URL Ğ² WebView

```
ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğ°Ğ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ
        â†“
Telegram Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ WebView
        â†“
Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚: https://your-app.com?user_id=123&first_name=John&...
        â†“
Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ URL Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸
```

---

### 6ï¸âƒ£ Ğ¤Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´ Ğ¿Ğ°Ñ€ÑĞ¸Ñ‚ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹

**Ğ¤Ğ°Ğ¹Ğ»:** `public/app.js`
**Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸ 20-30:**

```javascript
function getUrlParams() {
  // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ ÑÑ‚Ñ€Ğ¾ĞºÑƒ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ¸Ğ· URL
  const params = new URLSearchParams(window.location.search);
  // window.location.search = "?user_id=123&first_name=John&..."

  // Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€
  return {
    user_id: params.get('user_id'),        // "123456789"
    first_name: params.get('first_name'),  // "John"
    last_name: params.get('last_name'),    // "Doe"
    username: params.get('username'),      // "johndoe"
    photo_url: params.get('photo_url'),    // "https://..."
    is_premium: params.get('is_premium') === 'true'  // true
  };
}
```

---

## ğŸ“Š Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. msg.from (Telegram API)                                      â”‚
â”‚    {                                                             â”‚
â”‚      id: 123456789,                                             â”‚
â”‚      first_name: "John",                                        â”‚
â”‚      last_name: "Doe",                                          â”‚
â”‚      username: "johndoe",                                       â”‚
â”‚      is_premium: false                                          â”‚
â”‚    }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. buildWebAppUrlWithParams()                                   â”‚
â”‚    Ğ‘ĞµÑ€ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· msg.from Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ¾Ğ±ÑŠĞµĞºÑ‚:                  â”‚
â”‚    {                                                             â”‚
â”‚      telegram_id: 123456789,                                    â”‚
â”‚      first_name: "John",                                        â”‚
â”‚      last_name: "Doe",                                          â”‚
â”‚      username: "johndoe",                                       â”‚
â”‚      is_premium: false                                          â”‚
â”‚    }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. URLSearchParams                                              â”‚
â”‚    const params = new URLSearchParams();                        â”‚
â”‚    params.append('user_id', '123456789');                       â”‚
â”‚    params.append('first_name', 'John');                         â”‚
â”‚    params.append('last_name', 'Doe');                           â”‚
â”‚    params.append('username', 'johndoe');                        â”‚
â”‚    params.append('is_premium', 'false');                        â”‚
â”‚    params.toString()                                            â”‚
â”‚    â†’ "user_id=123456789&first_name=John&last_name=Doe&..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ URL                                                â”‚
â”‚    baseUrl + "?" + params.toString()                            â”‚
â”‚    "https://your-app.com" + "?" + "user_id=123&..."            â”‚
â”‚    â†’ "https://your-app.com?user_id=123&first_name=John&..."    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Telegram ĞºĞ½Ğ¾Ğ¿ĞºĞ°                                              â”‚
â”‚    web_app: {                                                   â”‚
â”‚      url: "https://your-app.com?user_id=123&first_name=John"   â”‚
â”‚    }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Telegram Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ WebView Ñ ÑÑ‚Ğ¸Ğ¼ URL                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚:                                           â”‚
â”‚    https://your-app.com?user_id=123&first_name=John&...        â”‚
â”‚                                                                  â”‚
â”‚    window.location.href = "https://your-app.com?user_id=123..." â”‚
â”‚    window.location.search = "?user_id=123&first_name=John&..."  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. Frontend Ğ¿Ğ°Ñ€ÑĞ¸Ñ‚ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹                                    â”‚
â”‚    new URLSearchParams(window.location.search)                  â”‚
â”‚    params.get('user_id') â†’ "123456789"                          â”‚
â”‚    params.get('first_name') â†’ "John"                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ² Ğ»Ğ¾Ğ³Ğ°Ñ…

### Ğ’ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ Ğ¡Ğ•Ğ Ğ’Ğ•Ğ Ğ:

```
ğŸŒ Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ URL Ğ¸Ğ· .env: https://my-casino-bot.onrender.com
ğŸ“‹ Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒÑ URL Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ:
  - telegram_id: 123456789
  - first_name: John
  - last_name: Doe
  - username: johndoe
  - is_premium: false
  - photo_url: https://api.telegram.org/file/bot7894561230:AAHxxx.../photo.jpg
âœ… Ğ¡Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ URL: https://my-casino-bot.onrender.com?user_id=123456789&first_name=John&last_name=Doe&username=johndoe&photo_url=https%3A%2F%2Fapi.telegram.org%2Ffile%2Fbot...%2Fphoto.jpg&is_premium=false
```

### Ğ’ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ Ğ:

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ ĞĞ°Ñ‡Ğ¸Ğ½Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ...
ğŸ“ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ URL: https://my-casino-bot.onrender.com?user_id=123456789&first_name=John&last_name=Doe&username=johndoe&photo_url=https%3A%2F%2Fapi.telegram.org%2Ffile%2Fbot...%2Fphoto.jpg
ğŸ”— URL search: ?user_id=123456789&first_name=John&last_name=Doe&username=johndoe&photo_url=https%3A%2F%2Fapi.telegram.org%2Ffile%2Fbot...%2Fphoto.jpg
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” Ğ Ğ°ÑĞ¿Ğ°Ñ€ÑĞµĞ½Ğ½Ñ‹Ğµ URL Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹: {user_id: "123456789", first_name: "John", last_name: "Doe", username: "johndoe", photo_url: "https://...", is_premium: false}
  - user_id: 123456789
  - first_name: John
  - photo_url: ĞµÑÑ‚ÑŒ
âœ… Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¸Ğ· URL Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²: {id: 123456789, first_name: "John", ...}
```

---

## âš ï¸ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 1: ĞŸÑƒÑÑ‚Ğ¾Ğ¹ baseUrl

```javascript
const baseUrl = this.getWebAppUrl();  // "https://your-app-url.com"
                                      //   â†‘ Ğ•ÑĞ»Ğ¸ .env Ğ½Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½!
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ `WEB_APP_URL` Ğ² `.env`

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 2: params.toString() Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹

```javascript
const params = new URLSearchParams();
// Ğ•ÑĞ»Ğ¸ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ»Ğ¸:
params.toString()  // ""

// Ğ•ÑĞ»Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ»Ğ¸:
params.append('user_id', '123');
params.toString()  // "user_id=123"
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ Ñ‡Ñ‚Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· `msg.from` Ğ½Ğµ null

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 3: URL Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ÑÑ Ğ² ĞºĞ½Ğ¾Ğ¿ĞºÑƒ

```typescript
web_app: {
  url: baseWebAppUrl  // âŒ Ğ‘Ğ•Ğ— Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²!
  // Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ:
  url: webAppUrlWithParams  // âœ… Ğ¡ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸
}
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ `webAppUrlWithParams` Ğ° Ğ½Ğµ `baseWebAppUrl`

---

## âœ… ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº

- [ ] Ğ’ `.env` ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ `WEB_APP_URL`
- [ ] Ğ‘Ğ¾Ñ‚ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
- [ ] Ğ’ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ²Ğ¸Ğ´Ğ½Ñ‹ Ğ»Ğ¾Ğ³Ğ¸ "ğŸ“‹ Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒÑ URL..."
- [ ] Ğ¡Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ URL ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `?user_id=...`
- [ ] URL Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ÑÑ Ğ² `web_app.url` ĞºĞ½Ğ¾Ğ¿ĞºĞ¸
- [ ] Ğ’ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° `window.location.search` Ğ½Ğµ Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹
- [ ] `params.get('user_id')` Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

Ğ•ÑĞ»Ğ¸ Ğ²ÑĞµ Ğ³Ğ°Ğ»Ğ¾Ñ‡ĞºĞ¸ ÑÑ‚Ğ¾ÑÑ‚ â†’ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾! âœ…
